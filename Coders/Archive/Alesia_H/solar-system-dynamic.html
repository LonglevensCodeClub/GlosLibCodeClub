<html>
	<head>
		<script type='text/javascript'>
window.onload = function() {			
	console.log('Page Loaded');
	
	const svgSolarSystem = document.getElementById('svgSolarSystem');
	const svgRect = svgSolarSystem.getBoundingClientRect();
	const sunOrigin = {
		x : svgRect.width / 2,
		y : svgRect.height / 2
	}
	const SVG_NS = 'http://www.w3.org/2000/svg';
	const sunElement = document.createElementNS(SVG_NS, 'circle');
	sunElement.setAttribute('cx', sunOrigin.x);
	sunElement.setAttribute('cy', sunOrigin.y);
	sunElement.setAttribute('r', 50);
	sunElement.setAttribute('fill', 'goldenrod');
	sunElement.setAttribute('stroke', 'red');
	svgSolarSystem.appendChild(sunElement)
	
	const planets = [
	{
		radius: 5,
		orbitDistance: 75,
		colour : 'red',
		frequency : 10
	},
	{
		radius: 30,
		orbitDistance: 150,
		colour : 'orange',
		frequency : 4
	},
	{
		radius: 12,
		orbitDistance: 110,
		colour : 'yellow',
		frequency : 14
	},{
		radius: 20,
		orbitDistance: 200,
		colour : 'green',
		frequency : 8
	}
	]
	planets.forEach(planet => {
		planet.element = document.createElementNS(SVG_NS, 'circle');
		planet.element.setAttribute('r',planet.radius);
		planet.element.setAttribute('fill',planet.colour);
		// I feel like I've been typing Forever...
		planet.element.setAttribute('cx', sunOrigin.x + planet.orbitDistance);
		planet.element.setAttribute('cy', sunOrigin.y);
		svgSolarSystem.appendChild(planet.element);
		
	})
	
	const animateFrame = function() {
		// Where is the Snack Fairy?
        //Grace is wrong, the Snack Fairy does exist!

		planets.forEach(planet => {
            const animationSpeed = 0.85;

            const angle = animationSpeed * 2 * Math.PI * planet.frequency * new Date().getTime () / 10000; 
			const xPosition = planet.orbitDistance * Math.sin(angle);
			const yPosition = planet.orbitDistance * Math.cos(angle)
            
            planet.element.setAttribute('cx', sunOrigin.x + xPosition);
            planet.element.setAttribute('cy', sunOrigin.y + yPosition)
        })
	}
    
	
	setInterval(animateFrame, 10);
};
</script>
	</head>
	
	<body>
	  <svg id='svgSolarSystem' width='100%' height='100%'>
		<rect x=0 y=0 width='100%' height='100%' fill=black />

	  </svg>
	</body>
</html> 

