<html>
  <head>
    <script type='text/javascript'>

window.onload = function() {
    // Get the SVG element
    const svgMain = document.getElementById('svgMain');
    const svgMainRect = svgMain.getBoundingClientRect();

    // Required to create new SVG elements
    const SVG_NS = 'http://www.w3.org/2000/svg';

    console.log('SVG Found ' + svgMainRect);

    const myElement = document.createElementNS(SVG_NS, 'polygon');
    myElement.setAttribute('points', '0,0 0,20 10,10');
    myElement.setAttribute('fill', 'blue');
    svgMain.appendChild(myElement);

    var scale = 5;
    var position = {
      x: 30,
      y: 10
    };
    var rotation = 75;
    function updateTransform() {
      var transform = 'scale(' + scale + ')';
      transform += 'translate(' + position.x + ',' + position.y + ')';
      transform += 'rotate(' + rotation + ')';
      myElement.setAttribute('transform', transform);
    }
    updateTransform();

    window.onkeydown = function(e) {
      console.log('Key Pressed ' + e.keyCode);
      switch(e.keyCode) {
        case 38: // UP arrow
          scale += 1
          break;
        case 40: // DOWN arrow
          scale -= 1
          break;
        case 37: // LEFT arrow
          rotation -= 1
          break;
        case 39: // RIGHT arrow
          rotation += 1
          break;
        case 87: // w
          position.y -= 1;
          break;
        case 65: // a
          position.x -= 1;
          break;
        case 83: // s
          position.y += 1;
          break;
        case 68: // d
          position.x += 1;
          break;
      }
      updateTransform();
    }
};
    </script>
  </head>
  <body>
    <svg id='svgMain' width='100%' height='100%'>
    </svg>
  </body>
</html>
